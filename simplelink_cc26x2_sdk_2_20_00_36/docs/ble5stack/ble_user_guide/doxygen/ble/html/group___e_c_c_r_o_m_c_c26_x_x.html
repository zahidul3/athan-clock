<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI BLE5-Stack API Documentation: ECC ROM driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI BLE5-Stack API Documentation
   &#160;<span id="projectnumber">1.02.01.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ECC ROM driver</div>  </div>
</div><!--header-->
<div class="contents">

<p>ECC ROM driver implementation for a CC26XX device.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___e_c_c___s_t_a_t_u_s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c___s_t_a_t_u_s.html">ECC_STATUS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:_e_c_c_r_o_m_c_c26_x_x_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_c_r_o_m_c_c26_x_x_8h.html">ECCROMCC26XX.h</a></td></tr>
<tr class="memdesc:_e_c_c_r_o_m_c_c26_x_x_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECC ROM driver implementation for a CC26XX device. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html">ECCROMCC26XX_CurveParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Curve Parameters.  <a href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Parameters.  <a href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaeccc0f3dcead42358240278e47250618"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gaeccc0f3dcead42358240278e47250618">ECCROMCC26XX_NIST_P256_KEY_LEN_IN_BYTES</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:gaeccc0f3dcead42358240278e47250618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5dfd588fa27d404b03b91530a86896e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga5dfd588fa27d404b03b91530a86896e5">ECCROMCC26XX_NIST_P256_WORKZONE_LEN_IN_BYTES</a>&#160;&#160;&#160;684</td></tr>
<tr class="separator:ga5dfd588fa27d404b03b91530a86896e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabafac2fa1a8c010d3e66a8d4e9cf97d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gabafac2fa1a8c010d3e66a8d4e9cf97d0">ECCROMCC26XX_WORKZONE_LEN_IN_BYTES</a>(len,  win)&#160;&#160;&#160;(4 * ((13 * (len)) + 13 + (3 * (len) * (1 &lt;&lt; ((win) - 2)))))</td></tr>
<tr class="memdesc:gabafac2fa1a8c010d3e66a8d4e9cf97d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute ECC workzone length in bytes for a generic key length and window size.  <a href="#gabafac2fa1a8c010d3e66a8d4e9cf97d0">More...</a><br /></td></tr>
<tr class="separator:gabafac2fa1a8c010d3e66a8d4e9cf97d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga5c0a64cf2a36fe4b1c38b3848a685e52"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html">ECCROMCC26XX_CurveParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga5c0a64cf2a36fe4b1c38b3848a685e52">ECCROMCC26XX_CurveParams</a></td></tr>
<tr class="memdesc:ga5c0a64cf2a36fe4b1c38b3848a685e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Curve Parameters.  <a href="#ga5c0a64cf2a36fe4b1c38b3848a685e52">More...</a><br /></td></tr>
<tr class="separator:ga5c0a64cf2a36fe4b1c38b3848a685e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa50cee1ebb718a064595777a7fa7ea7d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gaa50cee1ebb718a064595777a7fa7ea7d">ECCROMCC26XX_FreeCB</a>) (uint8_t *pBuf)</td></tr>
<tr class="memdesc:gaa50cee1ebb718a064595777a7fa7ea7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Free Callback.  <a href="#gaa50cee1ebb718a064595777a7fa7ea7d">More...</a><br /></td></tr>
<tr class="separator:gaa50cee1ebb718a064595777a7fa7ea7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f27309f75abea9c1f018295aad2a32b"><td class="memItemLeft" align="right" valign="top">typedef uint8_t *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga8f27309f75abea9c1f018295aad2a32b">ECCROMCC26XX_MallocCB</a>) (uint16_t len)</td></tr>
<tr class="memdesc:ga8f27309f75abea9c1f018295aad2a32b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Malloc Callback.  <a href="#ga8f27309f75abea9c1f018295aad2a32b">More...</a><br /></td></tr>
<tr class="separator:ga8f27309f75abea9c1f018295aad2a32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72124149160630f5a9f61995a94a3275"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga72124149160630f5a9f61995a94a3275">ECCROMCC26XX_Params</a></td></tr>
<tr class="memdesc:ga72124149160630f5a9f61995a94a3275"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECCROMCC26XX Parameters.  <a href="#ga72124149160630f5a9f61995a94a3275">More...</a><br /></td></tr>
<tr class="separator:ga72124149160630f5a9f61995a94a3275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga64032ff4d46e71fcc876eb0f0491f13c"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga64032ff4d46e71fcc876eb0f0491f13c">ECCROMCC26XX_genDHKey</a> (uint8_t *privateKey, uint8_t *publicKeyX, uint8_t *publicKeyY, uint8_t *dHKeyX, uint8_t *dHKeyY, <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *params)</td></tr>
<tr class="memdesc:ga64032ff4d46e71fcc876eb0f0491f13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate Diffie-Hellman Shared Secret Key X and Y Coordinates.  <a href="#ga64032ff4d46e71fcc876eb0f0491f13c">More...</a><br /></td></tr>
<tr class="separator:ga64032ff4d46e71fcc876eb0f0491f13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97cdc759b911e36c7ccc18cfc45fede5"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga97cdc759b911e36c7ccc18cfc45fede5">ECCROMCC26XX_genKeys</a> (uint8_t *privateKey, uint8_t *publicKeyX, uint8_t *publicKeyY, <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *params)</td></tr>
<tr class="memdesc:ga97cdc759b911e36c7ccc18cfc45fede5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate Public Key X and Y Coordinates.  <a href="#ga97cdc759b911e36c7ccc18cfc45fede5">More...</a><br /></td></tr>
<tr class="separator:ga97cdc759b911e36c7ccc18cfc45fede5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbed30899def3597c9f91d9d6cceff8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gadbed30899def3597c9f91d9d6cceff8f">ECCROMCC26XX_init</a> (void)</td></tr>
<tr class="memdesc:gadbed30899def3597c9f91d9d6cceff8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes module's synchronization resources. Only needs to be called once, but safe to call multiple times.  <a href="#gadbed30899def3597c9f91d9d6cceff8f">More...</a><br /></td></tr>
<tr class="separator:gadbed30899def3597c9f91d9d6cceff8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4b43f73cb42748bf9261a43953f8709"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709">ECCROMCC26XX_Params_init</a> (<a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *params)</td></tr>
<tr class="memdesc:gab4b43f73cb42748bf9261a43953f8709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a> struct to its defaults. params should not be modified until after this function is called. Default parameters use the NIST P-256 curve, timeout is set to wait indefinitely, malloc and free are NULL and status is set to ECCROMCC26XX_STATUS_SUCCESS. A client may call this function with the same params instance any number of times.  <a href="#gab4b43f73cb42748bf9261a43953f8709">More...</a><br /></td></tr>
<tr class="separator:gab4b43f73cb42748bf9261a43953f8709"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ECC ROM driver implementation for a CC26XX device. </p>
<p>============================================================================</p>
<h1>Driver Include</h1>
<p>The ECC ROM header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;ti/drivers/ecc/ECCROMCC26XX.h&gt;</span></div></div><!-- fragment --><h1>Overview</h1>
<p>The ECCROMCC26XX driver provides reentrant access to the ROM based ECC module. Access is given first come, first serve and subsequent calls block until all preceding callers have returned or the caller times out in which case execution returns to the caller but the operation is not performed.</p>
<p>Note: this implementation differs in byte ordering from the NIST Standard. It is not expected that keys input from a different implementation will match the output here.</p>
<h2>General Behavior</h2>
<p>For code examples, see <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ECC_USE_CASES">Use Cases</a> below.</p>
<h3>Initialing the driver</h3>
<ul>
<li>The application initializes the ECCROMCC26XX driver by calling <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gadbed30899def3597c9f91d9d6cceff8f" title="Initializes module&#39;s synchronization resources. Only needs to be called once, but safe to call multip...">ECCROMCC26XX_init()</a>.</li>
<li>This function may be called more than once, but it only needs to be called once per system reset.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Initialize ECC ROM driver</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#gadbed30899def3597c9f91d9d6cceff8f">ECCROMCC26XX_init</a>();</div><div class="line"></div><div class="line"><span class="comment">// Generate Public Keys</span></div><div class="line">status = <a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga97cdc759b911e36c7ccc18cfc45fede5">ECCROMCC26XX_genKeys</a>(privKey, pubKeyX, pubKeyY, &amp;params);</div><div class="line"><span class="keywordflow">if</span> (!status) {</div><div class="line">    System_printf(<span class="stringliteral">&quot;ECCROMCC26XX did not complete successfully&quot;</span>);</div><div class="line">}</div></div><!-- fragment --><h3>Initializing client parameters</h3>
<ul>
<li>Prior to calling either <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga97cdc759b911e36c7ccc18cfc45fede5" title="Generate Public Key X and Y Coordinates. ">ECCROMCC26XX_genKeys()</a> or <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga64032ff4d46e71fcc876eb0f0491f13c" title="Generate Diffie-Hellman Shared Secret Key X and Y Coordinates. ">ECCROMCC26XX_genDHKey()</a>, parameters must be initialized with a call to <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709" title="Function to initialize the ECCROMCC26XX_Params struct to its defaults. params should not be modified ...">ECCROMCC26XX_Params_init()</a> and initialize an instance of <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a>. Generally, it is expected that each client will initialize its own instance of <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a>, but in some cases this is not necessary. Multiple clients may share the same <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a> instance as long as they do not rely on the status field. This field could be overwritten by any of the clients whom share the instance. The clients should then rely on the return value of the API function which was called.</li>
<li><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a> initialize their curves to NIST P-256 defaults, set their malloc and free functions to NULL and block indefinitely when waiting for the resource.</li>
<li>Currently only NIST P-256 parameters are included in ROM. If a client wishes to use a different curve, that client must provide it. Curve parameters are uint32_t buffers where the first uint32_t block is a length header which specified the length of the buffer in uint32_t blocks, not including the header itself. the maximum curve length supported in 1020 bytes or 255 uint32_t blocks. For example, the NIST P-256 length header would be 8.</li>
<li>keyLen should be the same as the length header of Curve parameters but in in bytes. For example, the NIST P-256 key length would be 32.</li>
<li>workzone length is determined by the operation, curve length in uint32_t blocks and windowsize. the default value for NIST P-256 curves is only valid for those curves performing key and shared secret generation. The workzone length for any curve using the supported operation can be calculated with the ECCROMCC26XX_WORKZONE_LEN macro.</li>
<li>windowSize determines the speed and memory trade-off of each operation. Valid windowSize values are 2 through 5, and 3 is recommended as the best trade-off.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Declaration of this client&#39;s ECCROMCC26XX parameters.</span></div><div class="line"><a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a>      params;</div><div class="line"></div><div class="line"><span class="comment">// Initialize this client&#39;s ECCROMCC26XX parameters.</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709">ECCROMCC26XX_Params_init</a>(&amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Set the Malloc and Free functions for internal buffer allocation.</span></div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a18962d351516a6c4cb4e916676316311">malloc</a> = (uint8_t *(*)(uint16_t))myMallocFunction;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a34f796ad68444184788e3939e7b7e2da">free</a>   = (void (*)(uint8_t *))myFreeFunction;</div><div class="line"></div><div class="line"><span class="comment">// If an indefinite timeout is undesirable, alter the timeout here.</span></div><div class="line"><span class="comment">// the value specified here will be a multiple of Clock.tickPeriod is</span></div><div class="line"><span class="comment">// specified as.</span></div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#ab5627d8d8b095c198e2523c44ca380ac">timeout</a> = 1000; <span class="comment">// wait a maximum of 1000 system time units</span></div><div class="line"></div><div class="line"><span class="comment">// If using non NIST P-256 curves, supply them here. Otherwise, skip this.</span></div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#a1aa72acc052e827df870a7cb9d75883b">keyLen</a>      = myCurveLength; <span class="comment">// in bytes.</span></div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#ae1f47f36729c18ea3fb0ec2931c0040f">workzoneLen</a> = <a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#gabafac2fa1a8c010d3e66a8d4e9cf97d0">ECCROMCC26XX_WORKZONE_LEN_IN_BYTES</a>(myCurveLength/4, myWindowSize);</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#a8df96a3f9c90cf1deb2e8a13e98ac284">windowSize</a>  = myWindowSize;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#ae1467cd2ad53ca024258f87669b9a728">param_p</a>     = myCurveParamP;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#a648fb8398e2da3401dd47536edd487d7">param_r</a>     = myCurveParamR;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#a8316939464796cf153ebeca8f9e9c65e">param_a</a>     = myCurveParamA;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#a220ece85350242a887fc09c6798c6c50">param_b</a>     = myCurveParamB;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#ad933e026d9f7bf1ff38ae99b10d93da1">param_gx</a>    = myCurveParamGx;</div><div class="line">params.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html#a33c91b29dae7a137c971b5768169eaf0">curve</a>.<a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html#ae2738784e94c21afd06d2362ac1098eb">param_gy</a>    = myCurveParamGy;</div></div><!-- fragment --><h2>Use Cases<a class="anchor" id="ECC_USE_CASES"></a></h2>
<p>### Performing a key and shared secret generation operation # </p><div class="fragment"><div class="line"><span class="comment">// Declaration of this client&#39;s ECCROMCC26XX parameters.</span></div><div class="line"><a class="code" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a>      params;</div><div class="line"><span class="comment">// Declaration of local public keys</span></div><div class="line">uint8_t localPrivateKey[32]  = {0};</div><div class="line">uint8_t localPublicKeyX[32]  = {0};</div><div class="line">uint8_t localPublicKeyY[32]  = {0};</div><div class="line">uint8_t sharedSecretKeyX[32] = {0};</div><div class="line">uint8_t sharedSecretKeyY[32] = {0};</div><div class="line"></div><div class="line"><span class="comment">// Declaration of a remote client&#39;s public keys.</span></div><div class="line"><span class="comment">// Assume they have already been generated.</span></div><div class="line"><span class="keyword">extern</span> remotePublicKeyX[32];</div><div class="line"><span class="keyword">extern</span> remotePublicKeyY[32];</div><div class="line"></div><div class="line"><span class="comment">// Fill localPrivateKey with 256 bits from a random number generator.</span></div><div class="line">myRandomNumberGenerator(localPrivateKey, 32);</div><div class="line"></div><div class="line"><span class="comment">// Initialize ECC ROM driver</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#gadbed30899def3597c9f91d9d6cceff8f">ECCROMCC26XX_init</a>();</div><div class="line"></div><div class="line"><span class="comment">// Initialize this client&#39;s ECCROMCC26XX parameters.</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709">ECCROMCC26XX_Params_init</a>(&amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Generate public keys</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga97cdc759b911e36c7ccc18cfc45fede5">ECCROMCC26XX_genKeys</a>(localPrivateKey, localPublicKeyX,</div><div class="line">                     localPublicKeyY, &amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Generate shared secret.</span></div><div class="line"><span class="comment">// Note: given your local Public Keys, the remote device can generate the</span></div><div class="line"><span class="comment">// same shared secret using its local private key.</span></div><div class="line"><a class="code" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga64032ff4d46e71fcc876eb0f0491f13c">ECCROMCC26XX_genDHKey</a>(localPrivateKey, remotePublicKeyX,</div><div class="line">                      remotePublicKeyY, sharedSecretKeyX,</div><div class="line">                      sharedSecretKeyY, &amp;params);</div></div><!-- fragment --><h3>Supported transaction modes</h3>
<ul>
<li>All key generation functions are blocking.</li>
</ul>
<h2>Error handling</h2>
<p>If an error occur during key generation, an error status will be returned and stored in the status field of the <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a> instance passed as an argument.</p>
<h2>Supported Functions</h2>
<table class="doxtable">
<tr>
<th>API function </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gadbed30899def3597c9f91d9d6cceff8f" title="Initializes module&#39;s synchronization resources. Only needs to be called once, but safe to call multip...">ECCROMCC26XX_init()</a> </td><td>Initializes module's synchronization resources </td></tr>
<tr>
<td><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709" title="Function to initialize the ECCROMCC26XX_Params struct to its defaults. params should not be modified ...">ECCROMCC26XX_Params_init()</a> </td><td>Initialize parameters for Key Generation </td></tr>
<tr>
<td><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga97cdc759b911e36c7ccc18cfc45fede5" title="Generate Public Key X and Y Coordinates. ">ECCROMCC26XX_genKeys()</a> </td><td>Generate Public Key X and Y Coordinates </td></tr>
<tr>
<td><a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#ga64032ff4d46e71fcc876eb0f0491f13c" title="Generate Diffie-Hellman Shared Secret Key X and Y Coordinates. ">ECCROMCC26XX_genDHKey()</a> </td><td>Generate Diffie-Hellman Shared Secret </td></tr>
</table>
<h2>Unsupported functions:</h2>
<p>Functionality that currently not supported: </p><h1>- ECDSA Sign and Verify. </h1>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaeccc0f3dcead42358240278e47250618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeccc0f3dcead42358240278e47250618">&sect;&nbsp;</a></span>ECCROMCC26XX_NIST_P256_KEY_LEN_IN_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECCROMCC26XX_NIST_P256_KEY_LEN_IN_BYTES&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ECC key length in bytes for NIST P-256 keys. </p>

</div>
</div>
<a id="ga5dfd588fa27d404b03b91530a86896e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5dfd588fa27d404b03b91530a86896e5">&sect;&nbsp;</a></span>ECCROMCC26XX_NIST_P256_WORKZONE_LEN_IN_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECCROMCC26XX_NIST_P256_WORKZONE_LEN_IN_BYTES&#160;&#160;&#160;684</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ECC Workzone length in bytes for NIST P-256 key and shared secret generation. For use with ECC Window Size 3 only. Used to store intermediary values in ECC calculations. </p>

</div>
</div>
<a id="gabafac2fa1a8c010d3e66a8d4e9cf97d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabafac2fa1a8c010d3e66a8d4e9cf97d0">&sect;&nbsp;</a></span>ECCROMCC26XX_WORKZONE_LEN_IN_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECCROMCC26XX_WORKZONE_LEN_IN_BYTES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">win&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(4 * ((13 * (len)) + 13 + (3 * (len) * (1 &lt;&lt; ((win) - 2)))))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute ECC workzone length in bytes for a generic key length and window size. </p>
<p>len is the length of the key in uint32_t blocks. it must not exceed 255 blocks in length. win is the window size, such that 1 &lt; win &lt; 6. Recommended setting is 3.</p>
<p>This workzone length is only valid for key and shared secret and signature generation. A different workzone length would be used for verification. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga5c0a64cf2a36fe4b1c38b3848a685e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c0a64cf2a36fe4b1c38b3848a685e52">&sect;&nbsp;</a></span>ECCROMCC26XX_CurveParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html">ECCROMCC26XX_CurveParams</a>  <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___curve_params.html">ECCROMCC26XX_CurveParams</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ECCROMCC26XX Curve Parameters. </p>
<p>This holds the ECC Curve information to be used. Offset 0 of each param_* buffer contains the length of each parameter in uint32_t blocks, not including the first offset. </p>

</div>
</div>
<a id="gaa50cee1ebb718a064595777a7fa7ea7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa50cee1ebb718a064595777a7fa7ea7d">&sect;&nbsp;</a></span>ECCROMCC26XX_FreeCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ECCROMCC26XX_FreeCB) (uint8_t *pBuf)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ECCROMCC26XX Free Callback. </p>
<p>Required to free temporary key buffers during operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>- pointer to buffer to free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga8f27309f75abea9c1f018295aad2a32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f27309f75abea9c1f018295aad2a32b">&sect;&nbsp;</a></span>ECCROMCC26XX_MallocCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t*(* ECCROMCC26XX_MallocCB) (uint16_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ECCROMCC26XX Malloc Callback. </p>
<p>Required to malloc temporary key buffers during operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>- length in bytes of buffer to malloc.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to allocated buffer </dd></dl>

</div>
</div>
<a id="ga72124149160630f5a9f61995a94a3275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72124149160630f5a9f61995a94a3275">&sect;&nbsp;</a></span>ECCROMCC26XX_Params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a>  <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ECCROMCC26XX Parameters. </p>
<p>Holds a client's parameters for performing an ECC operation. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga64032ff4d46e71fcc876eb0f0491f13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64032ff4d46e71fcc876eb0f0491f13c">&sect;&nbsp;</a></span>ECCROMCC26XX_genDHKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ECCROMCC26XX_genDHKey </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>privateKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>publicKeyX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>publicKeyY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dHKeyX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dHKeyY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate Diffie-Hellman Shared Secret Key X and Y Coordinates. </p>
<dl class="section pre"><dt>Precondition</dt><dd>ECCROMCC26XX_init must be called prior to this and params must be initialized with <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709" title="Function to initialize the ECCROMCC26XX_Params struct to its defaults. params should not be modified ...">ECCROMCC26XX_Params_init()</a>. Calling context: Task. Swi or Hwi should call only when timeout is set to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">privateKey</td><td>32 byte input buffer of randomly generated bits.</td></tr>
    <tr><td class="paramname">publicKeyX</td><td>32 byte input buffer provided by client to store Public Key X Coordinate.</td></tr>
    <tr><td class="paramname">publicKeyY</td><td>32 byte input buffer provided by client to store Public Key Y Coordinate.</td></tr>
    <tr><td class="paramname">dHKeyX</td><td>32 byte output buffer provided by client to store Diffie-Hellman Key X Coordinate.</td></tr>
    <tr><td class="paramname">dHKeyY</td><td>32 byte output buffer provided by client to store Diffie-Hellman Key Y Coordinate.</td></tr>
    <tr><td class="paramname">params</td><td>Pointer to a parameter block, if NULL operation will fail</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="ga97cdc759b911e36c7ccc18cfc45fede5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97cdc759b911e36c7ccc18cfc45fede5">&sect;&nbsp;</a></span>ECCROMCC26XX_genKeys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ECCROMCC26XX_genKeys </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>privateKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>publicKeyX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>publicKeyY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate Public Key X and Y Coordinates. </p>
<dl class="section pre"><dt>Precondition</dt><dd>ECCROMCC26XX_init must be called prior to this and params must be initialized with <a class="el" href="group___e_c_c_r_o_m_c_c26_x_x.html#gab4b43f73cb42748bf9261a43953f8709" title="Function to initialize the ECCROMCC26XX_Params struct to its defaults. params should not be modified ...">ECCROMCC26XX_Params_init()</a>. Calling context: Task. Swi or Hwi should call only when timeout is set to 0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">privateKey</td><td>32 byte input buffer of randomly generated bits.</td></tr>
    <tr><td class="paramname">publicKeyX</td><td>32 byte output buffer provided by client to store Public Key X Coordinate.</td></tr>
    <tr><td class="paramname">publicKeyY</td><td>32 byte output buffer provided by client to store Public Key Y Coordinate.</td></tr>
    <tr><td class="paramname">params</td><td>Pointer to a parameter block, if NULL operation will fail.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="gadbed30899def3597c9f91d9d6cceff8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbed30899def3597c9f91d9d6cceff8f">&sect;&nbsp;</a></span>ECCROMCC26XX_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECCROMCC26XX_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes module's synchronization resources. Only needs to be called once, but safe to call multiple times. </p>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called before any other ECCROMCC26XX driver APIs. Calling context: Task. </dd></dl>

</div>
</div>
<a id="gab4b43f73cb42748bf9261a43953f8709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4b43f73cb42748bf9261a43953f8709">&sect;&nbsp;</a></span>ECCROMCC26XX_Params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECCROMCC26XX_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html">ECCROMCC26XX_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the <a class="el" href="struct_e_c_c_r_o_m_c_c26_x_x___params.html" title="ECCROMCC26XX Parameters. ">ECCROMCC26XX_Params</a> struct to its defaults. params should not be modified until after this function is called. Default parameters use the NIST P-256 curve, timeout is set to wait indefinitely, malloc and free are NULL and status is set to ECCROMCC26XX_STATUS_SUCCESS. A client may call this function with the same params instance any number of times. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Calling context: Hwi, Swi and Task.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>Parameter structure to initialize. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2018</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
