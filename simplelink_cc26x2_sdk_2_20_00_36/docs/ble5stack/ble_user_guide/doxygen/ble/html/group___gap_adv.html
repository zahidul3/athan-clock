<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI BLE5-Stack API Documentation: Gap Advertiser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI BLE5-Stack API Documentation
   &#160;<span id="projectnumber">1.02.01.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Gap Advertiser</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements the Host Advertiser.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___gap_adv___callbacks"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv___callbacks.html">GapAdv Callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___gap_adv___constants"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv___constants.html">GapAdv Constants</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___gap_adv___events"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv___events.html">GapAdv Events</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___gap_adv___params"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv___params.html">GapAdv Params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___gap_adv___structs"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv___structs.html">GapAdv Structures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:gap__advertiser_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gap__advertiser_8h.html">gap_advertiser.h</a></td></tr>
<tr class="memdesc:gap__advertiser_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">GAP Advertiser layer interface. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga00fd989b095b8eec694a3f1742434687"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a> (void)</td></tr>
<tr class="separator:ga00fd989b095b8eec694a3f1742434687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a4facdca0b45e2266097d540ff09a43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga3a4facdca0b45e2266097d540ff09a43">GapAdv_create</a> (<a class="el" href="group___g_a_p___c_bs.html#ga6fe43f83382c07e0585f3cbb65d31977">pfnGapCB_t</a> *cb, <a class="el" href="struct_gap_adv__params__t.html">GapAdv_params_t</a> *advParam, uint8 *advHandle)</td></tr>
<tr class="separator:ga3a4facdca0b45e2266097d540ff09a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad770d595fc51dc46a8c9bd9fd047f5c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#gad770d595fc51dc46a8c9bd9fd047f5c7">GapAdv_destroy</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#gabbf3e847a75a3a41b4a426c8cec2d9b9">GapAdv_freeBufferOptions_t</a> freeOptions)</td></tr>
<tr class="separator:gad770d595fc51dc46a8c9bd9fd047f5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e45550a6887067a26b8cc797e3d51fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga4e45550a6887067a26b8cc797e3d51fe">GapAdv_disable</a> (uint8 handle)</td></tr>
<tr class="memdesc:ga4e45550a6887067a26b8cc797e3d51fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable an active advertising set.  <a href="#ga4e45550a6887067a26b8cc797e3d51fe">More...</a><br /></td></tr>
<tr class="separator:ga4e45550a6887067a26b8cc797e3d51fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b94640e5689a2b2b800d70c1a55538b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#gab1ca1a3f426d37843d2cbcc4a2156ab4">GapAdv_enableOptions_t</a> enableOptions, uint16 durationOrMaxEvents)</td></tr>
<tr class="separator:ga9b94640e5689a2b2b800d70c1a55538b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a6474a27ff9f32293698d34943e5085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga3a6474a27ff9f32293698d34943e5085">GapAdv_getBuffer</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a> dataType, uint16 *pLen, uint8 **ppBuf)</td></tr>
<tr class="separator:ga3a6474a27ff9f32293698d34943e5085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d73e17d3c353632a305f4de4d81e97f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam</a> (uint8 handle, <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> paramID, void *pValue, uint8_t *pLen)</td></tr>
<tr class="separator:ga5d73e17d3c353632a305f4de4d81e97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace138d1c3a9257893543e47f8774fdb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a> (uint16 len, uint8 *pBuf)</td></tr>
<tr class="separator:gace138d1c3a9257893543e47f8774fdb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bbb75a51200d38ed8f760d274c8b8c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a> dataType, uint16 len, uint8 *pBuf)</td></tr>
<tr class="separator:ga1bbb75a51200d38ed8f760d274c8b8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d97eeb71e379410e0f6f48c7c1eece7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a> (uint8 *pBuf, bool freeOldData)</td></tr>
<tr class="separator:ga2d97eeb71e379410e0f6f48c7c1eece7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae783d648cb49d7aa764cd97d366de812"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#gabbf3e847a75a3a41b4a426c8cec2d9b9">GapAdv_freeBufferOptions_t</a> freeOptions)</td></tr>
<tr class="separator:gae783d648cb49d7aa764cd97d366de812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d7659d489538c2d62ed3409b22e3f9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga5d7659d489538c2d62ed3409b22e3f9c">GapAdv_setEventMask</a> (uint8 handle, <a class="el" href="group___gap_adv___constants.html#ga2611d18373c2c4894177736409a678df">GapAdv_eventMaskFlags_t</a> mask)</td></tr>
<tr class="separator:ga5d7659d489538c2d62ed3409b22e3f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65020be0895c76efdaf18cb6da791a60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam</a> (uint8 handle, <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> paramID, void *pValue)</td></tr>
<tr class="separator:ga65020be0895c76efdaf18cb6da791a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module implements the Host Advertiser. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga00fd989b095b8eec694a3f1742434687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00fd989b095b8eec694a3f1742434687">&sect;&nbsp;</a></span>GapAdv_abortLoad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_abortLoad </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Abort an advertising load operation.</p>
<p>Can be used to abort a prepare or prepare / load operation after a call to <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a> or <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga3a4facdca0b45e2266097d540ff09a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a4facdca0b45e2266097d540ff09a43">&sect;&nbsp;</a></span>GapAdv_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___g_a_p___c_bs.html#ga6fe43f83382c07e0585f3cbb65d31977">pfnGapCB_t</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_gap_adv__params__t.html">GapAdv_params_t</a> *&#160;</td>
          <td class="paramname"><em>advParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>advHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an advertising set.</p>
<p>This will allocate all required memory for the advertising set except for the advertising data. A pointer to a structure of advertising parameters (<a class="el" href="struct_gap_adv__params__t.html">GapAdv_params_t</a>) must be passed with advParam. This will be copied to the newly allocated memory for the advertising set and can then be freed if desired. Parameters can be changed individually later with <a class="el" href="group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam</a></p>
<dl class="section warning"><dt>Warning</dt><dd>It is required to pass a callback into this function in order to receive advertising events. The various events that are passed into this callback can be disabled / enabled with <a class="el" href="group___gap_adv.html#ga5d7659d489538c2d62ed3409b22e3f9c">GapAdv_setEventMask</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>Function pointer to a callback for this advertising set </td></tr>
    <tr><td class="paramname">advParam</td><td>pointer to structure of adversing parameters </td></tr>
    <tr><td class="paramname">advHandle</td><td>Output parameter to return the created advertising handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or an update / prepare is in process </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : the callback function was NULL </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a046f9d974a8e53b0549b5fbbe4d87f2d">bleNoResources</a> : there are no available advertising handles </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a82d62d6967e8fd06be24cf53c2839596">bleMemAllocError</a> : there is not enough memory to allocate the advertising set </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="gad770d595fc51dc46a8c9bd9fd047f5c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad770d595fc51dc46a8c9bd9fd047f5c7">&sect;&nbsp;</a></span>GapAdv_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_destroy </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#gabbf3e847a75a3a41b4a426c8cec2d9b9">GapAdv_freeBufferOptions_t</a>&#160;</td>
          <td class="paramname"><em>freeOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an advertising set.</p>
<p>This will first disable advertising then free all of the memory that was allocated for the advertising set from <a class="el" href="group___gap_adv.html#ga3a4facdca0b45e2266097d540ff09a43">GapAdv_create</a>. It will also attempt to free the advertising / scan response data based on freeOptions.</p>
<dl class="section note"><dt>Note</dt><dd>The advertising / scan response data can only be freed if the respective buffer is not used elsewhere by another advertising set.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to destroy </td></tr>
    <tr><td class="paramname">freeOptions</td><td><a class="el" href="group___gap_adv___constants.html#gabbf3e847a75a3a41b4a426c8cec2d9b9">GapAdv_freeBufferOptions_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or an update / prepare is in process </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a092fd7b4a953cbdf8e77a6f7772115bf">bleGAPBufferInUse</a> : can't free since this buffer is used elsewhere </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga4e45550a6887067a26b8cc797e3d51fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e45550a6887067a26b8cc797e3d51fe">&sect;&nbsp;</a></span>GapAdv_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_disable </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable an active advertising set. </p>
<p>The set still exists and can be re-enabled with <a class="el" href="group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable</a> .</p>
<dl class="section user"><dt>Corresponding Events:</dt><dd>@ref GAP_EVT_ADV_END_AFTER_DISABLE after advertising is disabled <br />
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to disable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or an update / prepare is in process </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a24a1f2a1ae3ebcf83a83bda70e775dec">bleAlreadyInRequestedMode</a> : advertising set is not currently advertising </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga9b94640e5689a2b2b800d70c1a55538b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b94640e5689a2b2b800d70c1a55538b">&sect;&nbsp;</a></span>GapAdv_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_enable </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#gab1ca1a3f426d37843d2cbcc4a2156ab4">GapAdv_enableOptions_t</a>&#160;</td>
          <td class="paramname"><em>enableOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>durationOrMaxEvents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable Advertising.</p>
<p>This will attempt to enable advertising for a set identified by the handle. The advertising set must first be created with <a class="el" href="group___gap_adv.html#ga3a4facdca0b45e2266097d540ff09a43">GapAdv_create</a>.</p>
<dl class="section user"><dt>Corresponding Events:</dt><dd><a class="el" href="group___gap_adv_scan___event___i_ds.html#ga9b918124538257a0c31e6ea5e24c34b4">GAP_EVT_ADV_START_AFTER_ENABLE</a> after advertising is enabled <br />
 <a class="el" href="group___gap_adv_scan___event___i_ds.html#ga92752bfa8edbf75b9d6f4b0efcc87c5a">GAP_EVT_ADV_START</a> after each advertising set starts<br />
 <a class="el" href="group___gap_adv_scan___event___i_ds.html#gac46ae1c734383dced572c186d25e3a48">GAP_EVT_ADV_END</a> after each advertising set ends<br />
 <a class="el" href="group___gap_adv_scan___event___i_ds.html#ga314e4eac0c9566c1985a03e6dc32bb70">GAP_EVT_SCAN_REQ_RECEIVED</a> after received scan requests<br />
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to enable </td></tr>
    <tr><td class="paramname">enableOptions</td><td>whether to advertise for the max possible time, for a user-specified duration, or for a user-specified number of advertising events </td></tr>
    <tr><td class="paramname">durationOrMaxEvents</td><td>If enableOptions is set to <a class="el" href="group___gap_adv___constants.html#ggab1ca1a3f426d37843d2cbcc4a2156ab4a44a122b166c25fff0983ccf6fa66f84d">GAP_ADV_ENABLE_OPTIONS_USE_DURATION</a>, this is the time (in 10 ms ticks) to advertise before stopping where the range is 10 ms - 655,540 ms <br />
 If enableOptions is set to <a class="el" href="group___gap_adv___constants.html#ggab1ca1a3f426d37843d2cbcc4a2156ab4acce47e7ed4f42b458542ca899198cfef">GAP_ADV_ENABLE_OPTIONS_USE_MAX_EVENTS</a>, this is the maximum number of advertisements to send before stopping, where the range is 1-256 <br />
 If enableOptions is set to <a class="el" href="group___gap_adv___constants.html#ggab1ca1a3f426d37843d2cbcc4a2156ab4a4b53896786d2113221b8daee0708fe20">GAP_ADV_ENABLE_OPTIONS_USE_MAX</a>, this parameter is not used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or an update / prepare is in process </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ae51ccc1c5c3f166f06a6261a0e847b16">bleNotReady</a> : the advertising set has not yet been loaded with advertising data </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a24a1f2a1ae3ebcf83a83bda70e775dec">bleAlreadyInRequestedMode</a> : device is already advertising </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga3a6474a27ff9f32293698d34943e5085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a6474a27ff9f32293698d34943e5085">&sect;&nbsp;</a></span>GapAdv_getBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_getBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a>&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>pLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 **&#160;</td>
          <td class="paramname"><em>ppBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find the address of the advertising or scan response data that an advertising set is using.</p>
<dl class="section warning"><dt>Warning</dt><dd>The ppBuf parameter is a pointer-to-a-pointer so the address to a pointer must be passed in.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to search. </td></tr>
    <tr><td class="paramname">dataType</td><td><a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a> </td></tr>
    <tr><td class="paramname">pLen</td><td>output parameter to return length of data </td></tr>
    <tr><td class="paramname">ppBuf</td><td>output parameter to return pointer to data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : dataType out of range </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga5d73e17d3c353632a305f4de4d81e97f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d73e17d3c353632a305f4de4d81e97f">&sect;&nbsp;</a></span>GapAdv_getParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_getParam </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a>&#160;</td>
          <td class="paramname"><em>paramID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a parameter for an advertising set.</p>
<dl class="section note"><dt>Note</dt><dd>The data that the return pointer ( pValue) points to should be cast to a type based on the paramID . See the respective parameter in <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> for the type to cast pValue to</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to modify </td></tr>
    <tr><td class="paramname">paramID</td><td>parameter to read. See <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> </td></tr>
    <tr><td class="paramname">pValue</td><td>return pointer </td></tr>
    <tr><td class="paramname">pLen</td><td>output parameter to return the length of the parameter. This is an optional return parameter. If the caller does not care about this, it can pass in NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : paramID out of range </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="gace138d1c3a9257893543e47f8774fdb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace138d1c3a9257893543e47f8774fdb9">&sect;&nbsp;</a></span>GapAdv_loadByBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_loadByBuffer </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>pBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used in conjunction with <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a> to update advertising / scan response buffers.</p>
<p>This function is called after <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>. It will search through all advertising sets and update any advertising data / scan response buffers that were marked as used by <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>. It will also re-enabling any advertising sets that were disabled by <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>.</p>
<p>Since this function accepts any pointer, it is possible to pass in a new buffer or re-use the original buffer (assuming it wasn't freed with <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>). It is also possible to modify the length of the original buffer (assuming the buffer / length still point to valid memory).</p>
<dl class="section note"><dt>Note</dt><dd>The prepare / load operation must be run to completion before another prepare operation, an advertising disable, enable, create, or destroy can begin. It is possible to abort the prepare / load with <a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>It is the application's responsibility to ensure that it is passing a len / pBuf to valid memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>length of buffer to load </td></tr>
    <tr><td class="paramname">pBuf</td><td>pointer to buffer to load</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a> has not been called first </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga1bbb75a51200d38ed8f760d274c8b8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bbb75a51200d38ed8f760d274c8b8c0">&sect;&nbsp;</a></span>GapAdv_loadByHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_loadByHandle </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a>&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>pBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load advertising / scan response data to an advertising set.</p>
<p>The first use for this function is to load a new advertising / scan response buffer to the advertising set initially after the set has been created with <a class="el" href="group___gap_adv.html#ga3a4facdca0b45e2266097d540ff09a43">GapAdv_create</a>.</p>
<p>A second use for this function is in conjunction with <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a> in order to prevent double-copying of data when updating the advertising / scan response data for a single handle. Also, advertising will be automatically re-enabled by the host if it was disabled during <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a>. This will result in the application receiving the <a class="el" href="group___gap_adv_scan___event___i_ds.html#ga9b918124538257a0c31e6ea5e24c34b4">GAP_EVT_ADV_START_AFTER_ENABLE</a> event.</p>
<p>Since this function accepts any pointer, it is possible to pass in a new buffer or re-use the original buffer (assuming it wasn't freed with <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a>). It is also possible to modify the length of the original buffer (assuming the buffer / length still point to valid memory).</p>
<dl class="section note"><dt>Note</dt><dd>The prepare / load operation must run to completion before another prepare operation or advertising disable, enable, create, or destroy. It is possible to abort the prepare / load with <a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>It is the application's responsibility to ensure that it is passing a len / pBuf to valid memory.</dd></dl>
<dl class="section user"><dt>Corresponding Events</dt><dd><a class="el" href="group___gap_adv_scan___event___i_ds.html#ga9b918124538257a0c31e6ea5e24c34b4">GAP_EVT_ADV_START_AFTER_ENABLE</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising to (re)load advertising / scan response data </td></tr>
    <tr><td class="paramname">dataType</td><td>see <a class="el" href="group___gap_adv___constants.html#ga481846f154fc6845b58a64d98f093b5b">GapAdv_dataTypes_t</a> </td></tr>
    <tr><td class="paramname">len</td><td>Length of new data </td></tr>
    <tr><td class="paramname">pBuf</td><td>pointer to new data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a> has not been called first </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : dataType out of range or len is too large </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a092fd7b4a953cbdf8e77a6f7772115bf">bleGAPBufferInUse</a> : can't free because this buffer is used elsewhere </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga2d97eeb71e379410e0f6f48c7c1eece7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d97eeb71e379410e0f6f48c7c1eece7">&sect;&nbsp;</a></span>GapAdv_prepareLoadByBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_prepareLoadByBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOldData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used in conjunction with <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a> to update an advertising / scan response buffer that is used by multiple advertising handles.</p>
<p>This function must be used in the following cases:</p><ol type="1">
<li>It is desired to update the contents of a data buffer that is currently being used by multiple advertising sets</li>
<li>It is desired to load a new buffer to multiple advertising sets without double-copying</li>
</ol>
<p>This function is called first to search through all active advertising sets. If the advertising or scan response data of an advertising set matches the input buffer, this data will be marked as used. If the advertising set is currently advertising, it will be disabled and marked for re-enabling. This re-enabling will occur when <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a> is called.</p>
<p>For case 1, the buffer can be updated as desired after this function returns successfully, then reloaded with <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a></p>
<p>For case 2, in order to prevent double-copying, the data that was being used by the advertising sets should be freed before calling <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a>. It is recommended that this is done by setting the freeOldData of <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a>. The new buffer can then be loaded with <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a></p>
<dl class="section note"><dt>Note</dt><dd>The prepare / load operation must run to completion before another prepare operation, an advertising disable, enable, create, or destroy can begin. It is possible to abort the prepare / load with <a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>pointer to buffer to prepare </td></tr>
    <tr><td class="paramname">freeOldData</td><td>whether or not free the old pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or there is already an ongoing prepare or prepare / load </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : no advertising sets are using this buffer </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="gae783d648cb49d7aa764cd97d366de812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae783d648cb49d7aa764cd97d366de812">&sect;&nbsp;</a></span>GapAdv_prepareLoadByHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_prepareLoadByHandle </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#gabbf3e847a75a3a41b4a426c8cec2d9b9">GapAdv_freeBufferOptions_t</a>&#160;</td>
          <td class="paramname"><em>freeOptions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepares advertising for a given handle and optionally frees the old data that was being used for advertisement / scan response data.</p>
<p>This function must be used in the following cases:</p><ol type="1">
<li>It is desired to update the contents of a data buffer that is currently being used for an enabled advertising handle</li>
<li>It is desired to load a new buffer to an advertising handle</li>
</ol>
<p>This function is used in conjunction with <a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a> to support either of the cases stated above. This function is called first before <a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a> and will disable advertising on the handle if it is currently enabled. This will result in the <a class="el" href="group___gap_adv_scan___event___i_ds.html#gaa3e11b06e1376b7e8e3f92a4a2f47c09">GAP_EVT_ADV_END_AFTER_DISABLE</a> being sent</p>
<p>For case 1, the buffer can be updated as desired after this function returns successfully, then reloaded with <a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a></p>
<p>For case 2, in order to prevent double-copying, the data that was being used by the advertising set should be freed before calling <a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a>. It is recommended that this is done by setting the freeOptions of <a class="el" href="group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle</a> . This will prompt the host to search through other advertising sets to ensure that the data buffer is not being used elsewhere. If the data is being used elsewhere, the free will not occur and <a class="el" href="bcomdef_8h.html#a092fd7b4a953cbdf8e77a6f7772115bf">bleGAPBufferInUse</a> will be returned. In this case, there are now two options to update this advertising data.</p><ol type="1">
<li>If it is desired to only update this handle, the only way to do this is to: destroy this handle with <a class="el" href="group___gap_adv.html#gad770d595fc51dc46a8c9bd9fd047f5c7">GapAdv_destroy</a>, recreate this handle with <a class="el" href="group___gap_adv.html#ga3a4facdca0b45e2266097d540ff09a43">GapAdv_create</a>, and load it using <a class="el" href="group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle</a></li>
<li>Update the buffer (which will affect all handles using this buffer) using <a class="el" href="group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer</a> and <a class="el" href="group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer</a></li>
</ol>
<p>Both of these options require first aborting this prepare operation with <a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a></p>
<dl class="section note"><dt>Note</dt><dd>It is not possible to free the advertising data and the scan response at the same time. A prepare / load operation must run to completion before performing another prepare operation, an advertising disable, enable, create or destroy. It is possible to abort the prepare / load with <a class="el" href="group___gap_adv.html#ga00fd989b095b8eec694a3f1742434687">GapAdv_abortLoad</a> .</dd></dl>
<dl class="section user"><dt>Corresponding events</dt><dd><a class="el" href="group___gap_adv_scan___event___i_ds.html#gaa3e11b06e1376b7e8e3f92a4a2f47c09">GAP_EVT_ADV_END_AFTER_DISABLE</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to prepare </td></tr>
    <tr><td class="paramname">freeOptions</td><td>Whether to free the original buffer and, if so, whether it is advertising data or scan response data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role or there is already an ongoing prepare or prepare / load </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : freeOptions out of range </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a24a1f2a1ae3ebcf83a83bda70e775dec">bleAlreadyInRequestedMode</a> : advertising set is not currently advertising </dd>
<dd>
<a class="el" href="bcomdef_8h.html#a092fd7b4a953cbdf8e77a6f7772115bf">bleGAPBufferInUse</a> : can't free because this buffer is used elsewhere </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga5d7659d489538c2d62ed3409b22e3f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d7659d489538c2d62ed3409b22e3f9c">&sect;&nbsp;</a></span>GapAdv_setEventMask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_setEventMask </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___constants.html#ga2611d18373c2c4894177736409a678df">GapAdv_eventMaskFlags_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the per-advertising set event mask to select which events are sent</p>
<p>A value of 1 enables the event and a value of 0 disables the event</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>handle of advertising set to mask events for </td></tr>
    <tr><td class="paramname">mask</td><td>A bitfield to enable / disable events returned to the per-advertising set callback function (<a class="el" href="group___g_a_p___c_bs.html#ga6fe43f83382c07e0585f3cbb65d31977">pfnGapCB_t</a> ). See <a class="el" href="group___gap_adv___constants.html#ga2611d18373c2c4894177736409a678df">GapAdv_eventMaskFlags_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : invalid event mask </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ae51ccc1c5c3f166f06a6261a0e847b16">bleNotReady</a> : advertising needs to be disabled </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="ga65020be0895c76efdaf18cb6da791a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65020be0895c76efdaf18cb6da791a60">&sect;&nbsp;</a></span>GapAdv_setParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bcomdef_8h.html#a5ac2ea318e3aa14ec7ac5b9426ac4067">bStatus_t</a> GapAdv_setParam </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a>&#160;</td>
          <td class="paramname"><em>paramID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a parameter for an advertising set.</p>
<p>The input pointer (pValue) should point to a type based on the paramID. See the respective parameter in <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> for the type to pass in as pValue</p>
<dl class="section note"><dt>Note</dt><dd>Advertising must be disabled in order to update a parameter.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of advertising set to modify </td></tr>
    <tr><td class="paramname">paramID</td><td>parameter to update. See <a class="el" href="group___gap_adv___params.html#gaa58afceb7db92df94b51adb77393744a">GapAdv_ParamId_t</a> </td></tr>
    <tr><td class="paramname">pValue</td><td>input pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="bcomdef_8h.html#ad0f5dd5ee6dbacd59b547d33705be2ef">bleIncorrectMode</a> : incorrect profile role </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ac7f7150a967d069cbdd921520f82c67f">bleInvalidRange</a> : paramID out of range </dd>
<dd>
<a class="el" href="bcomdef_8h.html#ad51e7808dc39d5f811767a20f4ac877a">bleGAPNotFound</a> : advertising set does not exist </dd>
<dd>
<a class="el" href="comdef_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2018</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
