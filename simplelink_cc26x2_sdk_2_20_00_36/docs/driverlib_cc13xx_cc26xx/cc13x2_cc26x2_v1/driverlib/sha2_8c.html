<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CC26xx Driver Library: sha2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC26xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>APIs</span></a></li>
      <li><a href="usergroup0.html"><span>Register&#160;Descriptions</span></a></li>
      <li><a href="usergroup1.html"><span>Online&#160;Resources</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sha2_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sha2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sha2_8h.html">sha2.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd3b37e9cd9ee85f36c93c53e04491ad"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sha2_8c.html#acd3b37e9cd9ee85f36c93c53e04491ad">SHA2ExecuteHash</a> (const uint8_t *message, uint8_t *resultDigest, uint32_t *intermediateDigest, uint32_t totalMsgLength, uint32_t messageLength, uint32_t hashAlgorithm, bool initialHash, bool finalHash)</td></tr>
<tr class="separator:acd3b37e9cd9ee85f36c93c53e04491ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78e9217ce5d66b9fbae29bacf9d04696"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#ga78e9217ce5d66b9fbae29bacf9d04696">SHA2StartDMAOperation</a> (uint8_t *channel0Addr, uint32_t channel0Length, uint8_t *channel1Addr, uint32_t channel1Length)</td></tr>
<tr class="memdesc:ga78e9217ce5d66b9fbae29bacf9d04696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a crypto DMA operation.  <a href="group__sha2__api.html#ga78e9217ce5d66b9fbae29bacf9d04696">More...</a><br /></td></tr>
<tr class="separator:ga78e9217ce5d66b9fbae29bacf9d04696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga419e7cd03a612c57e56738d5af3df297"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#ga419e7cd03a612c57e56738d5af3df297">SHA2WaitForIRQFlags</a> (uint32_t irqFlags)</td></tr>
<tr class="memdesc:ga419e7cd03a612c57e56738d5af3df297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the interrupt status register and clear when done.  <a href="group__sha2__api.html#ga419e7cd03a612c57e56738d5af3df297">More...</a><br /></td></tr>
<tr class="separator:ga419e7cd03a612c57e56738d5af3df297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12a453af9d400db570d6cee8066d6b04"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#ga12a453af9d400db570d6cee8066d6b04">SHA2ComputeInitialHash</a> (const uint8_t *message, uint32_t *intermediateDigest, uint32_t hashAlgorithm, uint32_t initialMessageLength)</td></tr>
<tr class="memdesc:ga12a453af9d400db570d6cee8066d6b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new SHA-2 hash operation.  <a href="group__sha2__api.html#ga12a453af9d400db570d6cee8066d6b04">More...</a><br /></td></tr>
<tr class="separator:ga12a453af9d400db570d6cee8066d6b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41707964e896457be9d51e12f8285816"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#ga41707964e896457be9d51e12f8285816">SHA2ComputeIntermediateHash</a> (const uint8_t *message, uint32_t *intermediateDigest, uint32_t hashAlgorithm, uint32_t intermediateMessageLength)</td></tr>
<tr class="memdesc:ga41707964e896457be9d51e12f8285816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a SHA-2 hash operation but do not finalize it.  <a href="group__sha2__api.html#ga41707964e896457be9d51e12f8285816">More...</a><br /></td></tr>
<tr class="separator:ga41707964e896457be9d51e12f8285816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc2bb09c03a3f28d41531d4266c1458a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#gacc2bb09c03a3f28d41531d4266c1458a">SHA2ComputeFinalHash</a> (const uint8_t *message, uint8_t *resultDigest, uint32_t *intermediateDigest, uint32_t totalMsgLength, uint32_t messageLength, uint32_t hashAlgorithm)</td></tr>
<tr class="memdesc:gacc2bb09c03a3f28d41531d4266c1458a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a SHA-2 hash operation and finalize it.  <a href="group__sha2__api.html#gacc2bb09c03a3f28d41531d4266c1458a">More...</a><br /></td></tr>
<tr class="separator:gacc2bb09c03a3f28d41531d4266c1458a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9994432a8b4d1ac1468c6755f50dc621"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sha2__api.html#ga9994432a8b4d1ac1468c6755f50dc621">SHA2ComputeHash</a> (const uint8_t *message, uint8_t *resultDigest, uint32_t totalMsgLength, uint32_t hashAlgorithm)</td></tr>
<tr class="memdesc:ga9994432a8b4d1ac1468c6755f50dc621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a SHA-2 hash operation and return the finalized digest.  <a href="group__sha2__api.html#ga9994432a8b4d1ac1468c6755f50dc621">More...</a><br /></td></tr>
<tr class="separator:ga9994432a8b4d1ac1468c6755f50dc621"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acd3b37e9cd9ee85f36c93c53e04491ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t SHA2ExecuteHash </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resultDigest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>intermediateDigest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>totalMsgLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hashAlgorithm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>finalHash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__sha2__api.html#gacc2bb09c03a3f28d41531d4266c1458a">SHA2ComputeFinalHash()</a>, <a class="el" href="group__sha2__api.html#ga9994432a8b4d1ac1468c6755f50dc621">SHA2ComputeHash()</a>, <a class="el" href="group__sha2__api.html#ga12a453af9d400db570d6cee8066d6b04">SHA2ComputeInitialHash()</a>, and <a class="el" href="group__sha2__api.html#ga41707964e896457be9d51e12f8285816">SHA2ComputeIntermediateHash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    uint8_t digestLength = 0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    uint32_t dmaAlgorithmSelect = 0;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="group__sha2__api.html#ga7aaba28f7e2fa2c4035e4b0d9f09b8af">SHA2ClearDigestAvailableFlag</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">switch</span> (hashAlgorithm) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__sha2__api.html#gade3fa8e294d667593eb19f20f11494b5">SHA2_MODE_SELECT_SHA224</a>:</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            digestLength = <a class="code" href="group__sha2__api.html#gaeebf85ef4e6ac83193b42c9f4009ffdc">SHA2_SHA224_DIGEST_LENGTH_BYTES</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            dmaAlgorithmSelect = <a class="code" href="group__sha2__api.html#ga7c4ac0f5d55f479f528724cedebc1a36">SHA2_ALGSEL_SHA256</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__sha2__api.html#ga90a91111f84ea68f2f25d033fcb82bba">SHA2_MODE_SELECT_SHA256</a>:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            digestLength = <a class="code" href="group__sha2__api.html#gab10d078e55ae7aa5e5fea4caa0623cd0">SHA2_SHA256_DIGEST_LENGTH_BYTES</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            dmaAlgorithmSelect = <a class="code" href="group__sha2__api.html#ga7c4ac0f5d55f479f528724cedebc1a36">SHA2_ALGSEL_SHA256</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__sha2__api.html#gaa589d7f81bce02a3a9ab38d5e781e0c7">SHA2_MODE_SELECT_SHA384</a>:</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            digestLength = <a class="code" href="group__sha2__api.html#gad0f977c13311817c7f29af39ddcadfa0">SHA2_SHA384_DIGEST_LENGTH_BYTES</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            dmaAlgorithmSelect = <a class="code" href="group__sha2__api.html#ga48d633a64b622eda23cb58156771227e">SHA2_ALGSEL_SHA512</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__sha2__api.html#gaaaee245dfe486b23bc677951ba3fee10">SHA2_MODE_SELECT_SHA512</a>:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            digestLength = <a class="code" href="group__sha2__api.html#ga84faea004acf737dbf6a6c59b84d049a">SHA2_SHA512_DIGEST_LENGTH_BYTES</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            dmaAlgorithmSelect = <a class="code" href="group__sha2__api.html#ga48d633a64b622eda23cb58156771227e">SHA2_ALGSEL_SHA512</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__sha2__api.html#gadc595a420c25aa38ae3f0eb81449ee71">SHA2_INVALID_ALGORITHM</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (initialHash &amp;&amp; finalHash) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="comment">// The empty string is a perfectly valid message. It obviously has a length of 0. The DMA cannot</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">// handle running with a transfer length of 0. This workaround depends on the hash engine adding the</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="comment">// trailing 1 bit and 0-padding bits after the DMAtransfer is complete and not in the DMA itself.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="comment">// totalMsgLength is purposefully not altered as it is appended to the end of the message during finalization</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// and determines how many padding-bytes are added.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">// Altering totalMsgLength would alter the final hash digest.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// Because totalMsgLength specifies that the message is of length 0, the content of the byte loaded</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// through the DMA is irrelevant. It is overwritten internally in the hash engine.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        messageLength = messageLength ? messageLength : 1;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Setting the incorrect number of bits here leads to the calculation of the correct result</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// but a failure to read them out.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// The tag bit is set to read out the digest via DMA rather than through the slave interface.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="group__sha2__api.html#ga064fab62d91e1111ac37cf89de759690">SHA2SelectAlgorithm</a>(dmaAlgorithmSelect | (resultDigest ? <a class="code" href="group__sha2__api.html#ga6c3aa160fb3870bff4c212f21780bfe4">SHA2_ALGSEL_TAG</a> : 0));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="group__sha2__api.html#ga9ce1a2528bd32ad8fc616cd1bc28ebe5">SHA2IntClear</a>(<a class="code" href="group__sha2__api.html#ga9d2d44b802516dcf1d2fb822d80f48ef">SHA2_DMA_IN_DONE</a> | <a class="code" href="group__sha2__api.html#ga3a13561f9b9fb750d6c0e24190c14906">SHA2_RESULT_RDY</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__sha2__api.html#gac96c6165aca2516672de0b84cc8c2676">SHA2IntEnable</a>(<a class="code" href="group__sha2__api.html#ga9d2d44b802516dcf1d2fb822d80f48ef">SHA2_DMA_IN_DONE</a> | <a class="code" href="group__sha2__api.html#ga3a13561f9b9fb750d6c0e24190c14906">SHA2_RESULT_RDY</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    HWREG(CRYPTO_BASE + CRYPTO_O_HASHMODE) = hashAlgorithm | (initialHash ? CRYPTO_HASHMODE_NEW_HASH_M : 0);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// Only load the intermediate digest if requested.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (intermediateDigest &amp;&amp; !initialHash) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="group__sha2__api.html#ga7f3878b72a780dfa7decf7451b07c862">SHA2SetDigest</a>(intermediateDigest, digestLength);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// If this is the final hash, finalization is required. This means appending a 1 bit, padding the message until this section</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// is 448 bytes long, and adding the 64 bit total length of the message in bits. Thankfully, this is all done in hardware.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (finalHash) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">// This specific length must be specified in bits not bytes.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="group__sha2__api.html#gaa60e90e438c85a72ffa5216cd951575f">SHA2SetMessageLength</a>(totalMsgLength * 8);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        HWREG(CRYPTO_BASE + CRYPTO_O_HASHIOBUFCTRL) = CRYPTO_HASHIOBUFCTRL_PAD_DMA_MESSAGE_M;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// The cast is fine in this case. SHA2StartDMAOperation channel one serves as input and no one does</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// hash operations in-place.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="group__sha2__api.html#ga78e9217ce5d66b9fbae29bacf9d04696">SHA2StartDMAOperation</a>((uint8_t *)message, messageLength,  resultDigest, digestLength);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__sha2__api.html#ga1713d2d09dbe6580223bedb9ea7df716">SHA2_SUCCESS</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="group__sha2__api_html_ga48d633a64b622eda23cb58156771227e"><div class="ttname"><a href="group__sha2__api.html#ga48d633a64b622eda23cb58156771227e">SHA2_ALGSEL_SHA512</a></div><div class="ttdeci">#define SHA2_ALGSEL_SHA512</div><div class="ttdef"><b>Definition:</b> sha2.h:151</div></div>
<div class="ttc" id="group__sha2__api_html_gaa60e90e438c85a72ffa5216cd951575f"><div class="ttname"><a href="group__sha2__api.html#gaa60e90e438c85a72ffa5216cd951575f">SHA2SetMessageLength</a></div><div class="ttdeci">static void SHA2SetMessageLength(uint32_t length)</div><div class="ttdoc">Specify the total length of the message. </div><div class="ttdef"><b>Definition:</b> sha2.h:484</div></div>
<div class="ttc" id="group__sha2__api_html_ga3a13561f9b9fb750d6c0e24190c14906"><div class="ttname"><a href="group__sha2__api.html#ga3a13561f9b9fb750d6c0e24190c14906">SHA2_RESULT_RDY</a></div><div class="ttdeci">#define SHA2_RESULT_RDY</div><div class="ttdef"><b>Definition:</b> sha2.h:105</div></div>
<div class="ttc" id="group__sha2__api_html_ga84faea004acf737dbf6a6c59b84d049a"><div class="ttname"><a href="group__sha2__api.html#ga84faea004acf737dbf6a6c59b84d049a">SHA2_SHA512_DIGEST_LENGTH_BYTES</a></div><div class="ttdeci">#define SHA2_SHA512_DIGEST_LENGTH_BYTES</div><div class="ttdef"><b>Definition:</b> sha2.h:127</div></div>
<div class="ttc" id="group__sha2__api_html_gac96c6165aca2516672de0b84cc8c2676"><div class="ttname"><a href="group__sha2__api.html#gac96c6165aca2516672de0b84cc8c2676">SHA2IntEnable</a></div><div class="ttdeci">static void SHA2IntEnable(uint32_t intFlags)</div><div class="ttdoc">Enable individual crypto interrupt sources. </div><div class="ttdef"><b>Definition:</b> sha2.h:588</div></div>
<div class="ttc" id="group__sha2__api_html_gade3fa8e294d667593eb19f20f11494b5"><div class="ttname"><a href="group__sha2__api.html#gade3fa8e294d667593eb19f20f11494b5">SHA2_MODE_SELECT_SHA224</a></div><div class="ttdeci">#define SHA2_MODE_SELECT_SHA224</div><div class="ttdef"><b>Definition:</b> sha2.h:131</div></div>
<div class="ttc" id="group__sha2__api_html_ga7f3878b72a780dfa7decf7451b07c862"><div class="ttname"><a href="group__sha2__api.html#ga7f3878b72a780dfa7decf7451b07c862">SHA2SetDigest</a></div><div class="ttdeci">static void SHA2SetDigest(uint32_t *digest, uint8_t digestLength)</div><div class="ttdoc">Load an intermediate digest. </div><div class="ttdef"><b>Definition:</b> sha2.h:506</div></div>
<div class="ttc" id="group__sha2__api_html_gad0f977c13311817c7f29af39ddcadfa0"><div class="ttname"><a href="group__sha2__api.html#gad0f977c13311817c7f29af39ddcadfa0">SHA2_SHA384_DIGEST_LENGTH_BYTES</a></div><div class="ttdeci">#define SHA2_SHA384_DIGEST_LENGTH_BYTES</div><div class="ttdef"><b>Definition:</b> sha2.h:126</div></div>
<div class="ttc" id="group__sha2__api_html_gaaaee245dfe486b23bc677951ba3fee10"><div class="ttname"><a href="group__sha2__api.html#gaaaee245dfe486b23bc677951ba3fee10">SHA2_MODE_SELECT_SHA512</a></div><div class="ttdeci">#define SHA2_MODE_SELECT_SHA512</div><div class="ttdef"><b>Definition:</b> sha2.h:134</div></div>
<div class="ttc" id="group__sha2__api_html_ga7aaba28f7e2fa2c4035e4b0d9f09b8af"><div class="ttname"><a href="group__sha2__api.html#ga7aaba28f7e2fa2c4035e4b0d9f09b8af">SHA2ClearDigestAvailableFlag</a></div><div class="ttdeci">static void SHA2ClearDigestAvailableFlag(void)</div><div class="ttdoc">Confirm digest was read. </div><div class="ttdef"><b>Definition:</b> sha2.h:568</div></div>
<div class="ttc" id="group__sha2__api_html_ga6c3aa160fb3870bff4c212f21780bfe4"><div class="ttname"><a href="group__sha2__api.html#ga6c3aa160fb3870bff4c212f21780bfe4">SHA2_ALGSEL_TAG</a></div><div class="ttdeci">#define SHA2_ALGSEL_TAG</div><div class="ttdef"><b>Definition:</b> sha2.h:152</div></div>
<div class="ttc" id="group__sha2__api_html_gaeebf85ef4e6ac83193b42c9f4009ffdc"><div class="ttname"><a href="group__sha2__api.html#gaeebf85ef4e6ac83193b42c9f4009ffdc">SHA2_SHA224_DIGEST_LENGTH_BYTES</a></div><div class="ttdeci">#define SHA2_SHA224_DIGEST_LENGTH_BYTES</div><div class="ttdef"><b>Definition:</b> sha2.h:124</div></div>
<div class="ttc" id="group__sha2__api_html_gab10d078e55ae7aa5e5fea4caa0623cd0"><div class="ttname"><a href="group__sha2__api.html#gab10d078e55ae7aa5e5fea4caa0623cd0">SHA2_SHA256_DIGEST_LENGTH_BYTES</a></div><div class="ttdeci">#define SHA2_SHA256_DIGEST_LENGTH_BYTES</div><div class="ttdef"><b>Definition:</b> sha2.h:125</div></div>
<div class="ttc" id="group__sha2__api_html_ga78e9217ce5d66b9fbae29bacf9d04696"><div class="ttname"><a href="group__sha2__api.html#ga78e9217ce5d66b9fbae29bacf9d04696">SHA2StartDMAOperation</a></div><div class="ttdeci">void SHA2StartDMAOperation(uint8_t *channel0Addr, uint32_t channel0Length, uint8_t *channel1Addr, uint32_t channel1Length)</div><div class="ttdoc">Start a crypto DMA operation. </div><div class="ttdef"><b>Definition:</b> sha2.c:71</div></div>
<div class="ttc" id="group__sha2__api_html_ga9ce1a2528bd32ad8fc616cd1bc28ebe5"><div class="ttname"><a href="group__sha2__api.html#ga9ce1a2528bd32ad8fc616cd1bc28ebe5">SHA2IntClear</a></div><div class="ttdeci">static void SHA2IntClear(uint32_t intFlags)</div><div class="ttdoc">Clear crypto interrupt sources. </div><div class="ttdef"><b>Definition:</b> sha2.h:687</div></div>
<div class="ttc" id="group__sha2__api_html_ga064fab62d91e1111ac37cf89de759690"><div class="ttname"><a href="group__sha2__api.html#ga064fab62d91e1111ac37cf89de759690">SHA2SelectAlgorithm</a></div><div class="ttdeci">static void SHA2SelectAlgorithm(uint32_t algorithm)</div><div class="ttdoc">Configure the crypto DMA for a particular operation. </div><div class="ttdef"><b>Definition:</b> sha2.h:455</div></div>
<div class="ttc" id="group__sha2__api_html_ga9d2d44b802516dcf1d2fb822d80f48ef"><div class="ttname"><a href="group__sha2__api.html#ga9d2d44b802516dcf1d2fb822d80f48ef">SHA2_DMA_IN_DONE</a></div><div class="ttdeci">#define SHA2_DMA_IN_DONE</div><div class="ttdef"><b>Definition:</b> sha2.h:104</div></div>
<div class="ttc" id="group__sha2__api_html_ga90a91111f84ea68f2f25d033fcb82bba"><div class="ttname"><a href="group__sha2__api.html#ga90a91111f84ea68f2f25d033fcb82bba">SHA2_MODE_SELECT_SHA256</a></div><div class="ttdeci">#define SHA2_MODE_SELECT_SHA256</div><div class="ttdef"><b>Definition:</b> sha2.h:132</div></div>
<div class="ttc" id="group__sha2__api_html_ga7c4ac0f5d55f479f528724cedebc1a36"><div class="ttname"><a href="group__sha2__api.html#ga7c4ac0f5d55f479f528724cedebc1a36">SHA2_ALGSEL_SHA256</a></div><div class="ttdeci">#define SHA2_ALGSEL_SHA256</div><div class="ttdef"><b>Definition:</b> sha2.h:150</div></div>
<div class="ttc" id="group__sha2__api_html_gadc595a420c25aa38ae3f0eb81449ee71"><div class="ttname"><a href="group__sha2__api.html#gadc595a420c25aa38ae3f0eb81449ee71">SHA2_INVALID_ALGORITHM</a></div><div class="ttdeci">#define SHA2_INVALID_ALGORITHM</div><div class="ttdef"><b>Definition:</b> sha2.h:117</div></div>
<div class="ttc" id="group__sha2__api_html_ga1713d2d09dbe6580223bedb9ea7df716"><div class="ttname"><a href="group__sha2__api.html#ga1713d2d09dbe6580223bedb9ea7df716">SHA2_SUCCESS</a></div><div class="ttdeci">#define SHA2_SUCCESS</div><div class="ttdef"><b>Definition:</b> sha2.h:116</div></div>
<div class="ttc" id="group__sha2__api_html_gaa589d7f81bce02a3a9ab38d5e781e0c7"><div class="ttname"><a href="group__sha2__api.html#gaa589d7f81bce02a3a9ab38d5e781e0c7">SHA2_MODE_SELECT_SHA384</a></div><div class="ttdeci">#define SHA2_MODE_SELECT_SHA384</div><div class="ttdef"><b>Definition:</b> sha2.h:133</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sha2_8c_acd3b37e9cd9ee85f36c93c53e04491ad_cgraph.png" border="0" usemap="#sha2_8c_acd3b37e9cd9ee85f36c93c53e04491ad_cgraph" alt=""/></div>
<map name="sha2_8c_acd3b37e9cd9ee85f36c93c53e04491ad_cgraph" id="sha2_8c_acd3b37e9cd9ee85f36c93c53e04491ad_cgraph">
<area shape="rect" id="node2" href="group__sha2__api.html#ga7aaba28f7e2fa2c4035e4b0d9f09b8af" title="Confirm digest was read. " alt="" coords="188,5,387,32"/>
<area shape="rect" id="node3" href="group__sha2__api.html#ga064fab62d91e1111ac37cf89de759690" title="Configure the crypto DMA for a particular operation. " alt="" coords="213,56,361,83"/>
<area shape="rect" id="node4" href="group__sha2__api.html#ga9ce1a2528bd32ad8fc616cd1bc28ebe5" title="Clear crypto interrupt sources. " alt="" coords="237,107,337,133"/>
<area shape="rect" id="node5" href="group__sha2__api.html#gac96c6165aca2516672de0b84cc8c2676" title="Enable individual crypto interrupt sources. " alt="" coords="232,157,343,184"/>
<area shape="rect" id="node6" href="group__sha2__api.html#ga7f3878b72a780dfa7decf7451b07c862" title="Load an intermediate digest. " alt="" coords="231,208,344,235"/>
<area shape="rect" id="node7" href="group__sha2__api.html#gaa60e90e438c85a72ffa5216cd951575f" title="Specify the total length of the message. " alt="" coords="203,259,371,285"/>
<area shape="rect" id="node8" href="group__sha2__api.html#ga78e9217ce5d66b9fbae29bacf9d04696" title="Start a crypto DMA operation. " alt="" coords="203,309,372,336"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_02f43349e925ffdbc3005e52d5f268b6.html">..\driverlib</a></li><li class="navelem"><a class="el" href="sha2_8c.html">sha2.c</a></li>
    <li class="footer">&copy Copyright 2015 - 2018 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
